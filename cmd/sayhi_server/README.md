# Hello MCP服务器

这是一个简单的问候MCP服务器，提供基本的问候工具功能。

## 功能特性

### 🎯 问候工具
- **say_hello**: 向指定的人发送问候消息
  - 记录问候日志到文件
  - 返回友好的回应
  - 支持自定义问候消息

### 🔧 技术特性
- 基于MCP协议
- 使用共享类型定义
- JSON-RPC 2.0通信
- 结构化日志记录

## 快速开始

### 1. 环境要求
- Go 1.19+

### 2. 构建和运行
```bash
# 构建
go build -o sayhi-server cmd/sayhi_server/main.go

# 运行
./sayhi-server
```

### 3. 在MCP客户端中配置
```json
{
  "mcpServers": {
    "hello-server": {
      "command": "./sayhi-server",
      "args": [],
      "env": {}
    }
  }
}
```

## 工具使用说明

### say_hello 工具

**功能**: 向指定的人说你好，记录问候信息并返回友好的回应

**参数**:
- `person_name` (必需): 要问候的人的姓名
- `greeting_message` (可选): 自定义问候消息，默认为"你好"

**示例调用**:
```json
{
  "name": "say_hello",
  "arguments": {
    "person_name": "张三",
    "greeting_message": "早上好"
  }
}
```

**返回结果**:
```
✨ 问候已发送！

📝 日志记录：[2024-01-01 10:00:00] 向 张三 说: 早上好
🎉 回应：你好 张三！很高兴见到你！
```

## 日志记录

服务器会自动记录所有问候操作到 `hello_log.txt` 文件中，格式如下：

```
[2024-01-01 10:00:00] 向 张三 说: 早上好
[2024-01-01 10:05:00] 向 李四 说: 你好
[2024-01-01 10:10:00] 向 王五 说: 下午好
```

## 项目结构

```
cmd/sayhi_server/
├── main.go      # 主程序文件
└── README.md    # 说明文档
```

## 技术实现

### 架构特点
- 使用共享的 `types` 包
- 模块化设计
- 清晰的错误处理
- 完整的MCP协议支持

### 核心组件
- **HelloMCPServer**: 主服务器结构
- **消息处理器**: 处理MCP协议消息
- **工具管理器**: 管理问候工具
- **日志记录器**: 记录操作日志

## 扩展功能

### 计划中的功能
- 支持多种问候语言
- 问候模板系统
- 用户偏好设置
- 统计和分析功能

### 自定义扩展
- 添加新的问候工具
- 集成外部服务
- 支持更多消息类型
- 插件化架构

## 故障排除

### 常见问题
1. **服务器无法启动**: 检查Go环境是否正确安装
2. **日志文件无法创建**: 检查当前目录的写入权限
3. **MCP客户端连接失败**: 确认服务器正在运行

### 调试技巧
- 查看stderr输出的日志信息
- 检查 `hello_log.txt` 文件内容
- 验证MCP客户端配置

## 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发环境设置
1. Fork项目
2. 创建功能分支
3. 提交更改
4. 创建Pull Request

### 代码规范
- 遵循Go语言规范
- 使用共享类型定义
- 添加适当的注释
- 编写测试用例 